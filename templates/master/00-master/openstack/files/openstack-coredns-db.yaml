filesystem: "root"
mode: 0644
path: "/etc/kubernetes/static-pod-resources/coredns/coredns.db.template"
contents:
  inline: |
    $ORIGIN {{.EtcdDiscoveryDomain}}.
    @    3600 IN SOA host.{{.EtcdDiscoveryDomain}}. hostmaster (
                                    2          ; serial
                                    7200       ; refresh (2 hours)
                                    3600       ; retry (1 hour)
                                    1209600    ; expire (2 weeks)
                                    3600       ; minimum (1 hour)
                                    )

    api IN A $API_VIP
    # FIXME(mandre) we should probably have a different VIP for api and api-int
    api-int IN A $API_VIP
    
    # FIXME(mandre) do we need this here?
    # Should the master really do LB for the worker nodes?
    *.apps IN A $API_VIP
